<!-- Search Bar -->
<app-product-search-bar *ngIf="selectedCategoryItem?.type === eCategory.SEARCH && !showProductDetail"></app-product-search-bar>

<!-- Filter Bar -->
<app-product-filter *ngIf="selectedCategoryItem?.type === eCategory.FILTER && !showProductDetail"></app-product-filter>

<!-- Come Back -->
<div class="btn-back" *ngIf="showProductDetail">
  <a (click)="hideProductDetail()"><i class="fas fa-chevron-left"></i> Volver</a>
</div>

<section class="row product-items-wrapper mt-5" *ngIf="!showProductDetail">
  <div class="col-xl-4 col-lg-6 col-md-6 d-flex justify-content-end" *ngFor="let product of selectedCategoryItem ? selectedCategoryItem.subcategory : []; let i = index">
    <!-- Product Item -->
    <div class="product-item">
      <!-- Header -->
      <div class="product-header" [class.product-header-active]="i === null">
        <img class="img-fluid product-item-image" [src]="product.product_photo" [alt]="product.name">
      </div>
      <!-- Footer -->
      <div class="product-item-footer" [class.product-item-footer-active]="i === null">
        <span class="product-item-title">{{product.name}}</span>
        <!-- <a class="product-item-action" [routerLink]="['/productos/detalle', product.id]">
          Ver Más
          <span class="product-item-action-icon" [class.product-item-action-icon-active]="i === 0">
            <i class="fas fa-chevron-right"></i>
          </span>
        </a> -->
        <a class="product-item-action" (click)="goToProductDetail(product)">
          Ver Más
          <span class="product-item-action-icon" [class.product-item-action-icon-active]="i === null">
            <i class="fas fa-chevron-right"></i>
          </span>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Product Detail -->
<app-product-detail *ngIf="showProductDetail && productSelected" [product]="productSelected"></app-product-detail>
